<div class="container">
  <div class="row">
    <div class="col-md-6 col-md-offset-3">

      <%= form_for @user, url: '/user/change_pw', method: :post, html: { id: 'change-pw-form', class: 'form-horizontal form-custom' } do |f| %>

        <div class="row" style="border-bottom: 1px solid #e5e5e5; margin-bottom: 20px;">
          <div class="col-md-12">
            <h3>Change Password</h3>
          </div>
        </div>
        <div class="form-group row">
          <label for="password" class="col-md-5 control-label">Current Password</label>
          <div class="col-md-7">
            <input type="password" class="form-control" id="password" name="password" placeholder="Password"/>
          </div>
        </div>
        <div class="form-group row">
          <label for="new-password" class="col-md-5 control-label">New Password</label>
          <div class="col-md-7">
            <input type="password" class="form-control" id="new-password" name="new_password" placeholder="New Password"/>
          </div>
        </div>
        <div class="form-group row">
          <label for="password-confirm" class="col-md-5 control-label">Confirm</label>
          <div class="col-md-7">
            <input type="password" class="form-control" id="password-confirm" name="password_confirm" placeholder="Re-enter New Password"/>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-md-12">
            <a class="btn btn-lg btn-default pull-right" href="/">Close</a>
            <input class="btn btn-lg btn-primary pull-right" style="margin-right: 10px;" type="submit" name="update" value="Update"/>
          </div>
        </div>

      <% end %>
    </div>
  </div>
</div><!-- container -->
<div style="clear: both;"></div>

<script type="text/javascript">
  $("#change-pw-form").validate({
    rules: {
      password: {
        required: true
      },
      new_password: {
        required: true,
        minlength: 6,
        maxlength: 20
      },
      password_confirm: {
        equalTo: "#new-password"
      }
    },
    messages: {
      password_confirm: {
        equalTo: "Both passwords must be the same"
      }
    }
  });
  $("#password").focus();
</script>

